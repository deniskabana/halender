# yaml-language-server: $schema=https://docs.renovatebot.com/renovate-schema.json
$schema: https://docs.renovatebot.com/renovate-schema.json

extends:
  - config:recommended
  - schedule:weekly
prBodyTemplate: '{{{header}}}{{{table}}}{{{warnings}}}{{{notes}}}{{{changelogs}}}{{{footer}}}'

# Waiting on julia support
# https://github.com/renovatebot/renovate/issues/6508
enabledManagers: [custom.regex]

packageRules:
  - matchDepNames: [folke/tokyonight.nvim]
    matchDatasources: [git-refs]
    semanticCommitType: docs
    semanticCommitScope: ''

customManagers:
  - customType: regex
    fileMatch:
      - ^lua/[^/]+/theme.lua$
    matchStrings:
      - '\n-- renovate: tokyonight@(?<currentDigest>[a-z0-9]+)\n'
    depNameTemplate: folke/tokyonight.nvim
    packageNameTemplate: https://github.com/folke/tokyonight.nvim.git
    datasourceTemplate: git-refs
    currentValueTemplate: main
